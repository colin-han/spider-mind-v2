-- ============================================================================
-- 清理遗留索引
-- ============================================================================
-- 问题: idx_nodes_map_type 索引引用了已删除的 node_type 字段
--       该字段在 20251011000001_remove_node_type.sql 中被删除
-- 影响: 虽然 PostgreSQL 会在删除列时自动删除相关索引，但为了明确性和
--       可追溯性，显式删除此索引
-- ============================================================================

-- 删除引用 node_type 字段的遗留索引
-- 注意: 如果该索引已被 PostgreSQL 自动删除，此语句会被忽略（IF EXISTS）
DROP INDEX IF EXISTS public.idx_nodes_map_type;

-- 添加注释说明
COMMENT ON SCHEMA public IS '清理完成: 已删除引用已删除字段 (node_type) 的遗留索引';

-- ============================================================================
-- Migration 完成
-- ============================================================================
-- 变更说明:
-- 1. 删除了 idx_nodes_map_type 索引（引用已删除的 node_type 字段）
-- 2. 该索引在 20251001203015_create_mindmap_schema.sql 中创建
-- 3. node_type 字段在 20251011000001_remove_node_type.sql 中被删除
-- 4. PostgreSQL 可能已自动删除此索引，但显式删除以确保清理完整
-- ============================================================================
