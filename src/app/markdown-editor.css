/**
 * Markdown Editor 和 Preview 的样式定义
 * 包括暗色模式、等宽字体、列表样式等
 */

/* ============================================
   编辑器基础样式
   ============================================ */

.w-md-editor-text {
  height: 100%;
}

/* ============================================
   暗色模式 - 背景色
   ============================================ */

/* Markdown Editor - dark mode background customization */
[data-color-mode="dark"] .w-md-editor {
  background-color: rgb(
    31 41 55 / var(--tw-bg-opacity, 1)
  ) !important; /* gray-800 */
}

/* 工具栏背景 */
[data-color-mode="dark"] .w-md-editor-toolbar {
  background-color: rgb(
    31 41 55 / var(--tw-bg-opacity, 1)
  ) !important; /* gray-800 */
  border-bottom-color: rgb(
    55 65 81 / var(--tw-border-opacity, 1)
  ) !important; /* gray-700 */
}

/* 编辑区和预览区背景 */
[data-color-mode="dark"] .w-md-editor-text-pre,
[data-color-mode="dark"] .w-md-editor-preview {
  background-color: rgb(
    31 41 55 / var(--tw-bg-opacity, 1)
  ) !important; /* gray-800 */
}

/* 编辑器内容区域 */
[data-color-mode="dark"] .w-md-editor-content,
[data-color-mode="dark"] .w-md-editor-area,
[data-color-mode="dark"] .w-md-editor-input {
  background-color: rgb(
    31 41 55 / var(--tw-bg-opacity, 1)
  ) !important; /* gray-800 */
}

/* ============================================
   暗色模式 - 文字颜色
   ============================================ */

/* 编辑器文字颜色 */
[data-color-mode="dark"] .w-md-editor-text-pre,
[data-color-mode="dark"] .w-md-editor-text,
[data-color-mode="dark"] .w-md-editor-input {
  color: rgb(229 231 235 / var(--tw-text-opacity, 1)) !important; /* gray-200 */
}

/* 编辑器 textarea 文字颜色 - 更高优先级 */
[data-color-mode="dark"] .w-md-editor textarea.w-md-editor-text-input,
[data-color-mode="dark"] textarea.w-md-editor-text-input {
  color: rgb(229 231 235 / var(--tw-text-opacity, 1)) !important; /* gray-200 */
  caret-color: rgb(
    229 231 235 / var(--tw-text-opacity, 1)
  ) !important; /* 光标颜色也设置为亮色 */
}

/* 编辑器代码预览层文字颜色 */
[data-color-mode="dark"] .w-md-editor-text-pre > code,
[data-color-mode="dark"] .w-md-editor-text-pre,
[data-color-mode="dark"] .w-md-editor .w-md-editor-text-pre > code,
[data-color-mode="dark"] .markdown-editor .w-md-editor-text-pre > code {
  color: rgb(229 231 235 / var(--tw-text-opacity, 1)) !important; /* gray-200 */
  /* 确保暗色模式下也使用等宽字体 */
  font-family:
    ui-monospace, "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas,
    "Courier New", monospace !important;
}

/* ============================================
   暗色模式 - Preview 样式
   ============================================ */

/* Markdown Preview - dark mode background customization */
[data-color-mode="dark"] .wmde-markdown {
  background-color: transparent !important;
  color: rgb(229 231 235 / var(--tw-text-opacity, 1)) !important; /* gray-200 */
}

/* Code blocks in dark mode */
[data-color-mode="dark"] .wmde-markdown pre {
  background-color: rgb(
    17 24 39 / var(--tw-bg-opacity, 1)
  ) !important; /* gray-900 */
}

[data-color-mode="dark"] .wmde-markdown code {
  background-color: rgb(
    17 24 39 / var(--tw-bg-opacity, 1)
  ) !important; /* gray-900 */
}

/* ============================================
   等宽字体设置 - 确保输入层和显示层完全一致
   ============================================ */

/* Markdown Editor - 等宽字体设置 */
/* 使用更高优先级的选择器确保字体样式能够覆盖编辑器默认样式 */
/* 统一设置所有相关元素的字体、大小、行高等属性，确保光标对齐 */

/* 输入层 - textarea */
.w-md-editor .w-md-editor-text-input,
.markdown-editor .w-md-editor-text-input,
textarea.w-md-editor-text-input {
  font-family:
    ui-monospace, "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas,
    "Courier New", monospace !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  letter-spacing: normal !important;
  word-spacing: normal !important;
}

/* 显示层 - pre 和 code */
.w-md-editor .w-md-editor-text-pre,
.markdown-editor .w-md-editor-text-pre,
.w-md-editor .w-md-editor-text-pre > code,
.markdown-editor .w-md-editor-text-pre > code,
.w-md-editor-text-pre > code {
  font-family:
    ui-monospace, "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas,
    "Courier New", monospace !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  letter-spacing: normal !important;
  word-spacing: normal !important;
}

/* ============================================
   列表样式
   ============================================ */

/* Markdown Preview - 列表样式 */
.wmde-markdown ul {
  list-style-type: disc !important;
  padding-left: 2rem !important;
}

.wmde-markdown ol {
  list-style-type: decimal !important;
  padding-left: 2rem !important;
}

/* 嵌套列表样式 */
.wmde-markdown ul ul {
  list-style-type: circle !important;
}

.wmde-markdown ul ul ul {
  list-style-type: square !important;
}

.wmde-markdown ol ol {
  list-style-type: lower-alpha !important;
}

.wmde-markdown ol ol ol {
  list-style-type: lower-roman !important;
}
