# 设计文档模板使用指南

## 模板说明

这是一个参考模板，不是强制要求。可以根据文档的具体目标和内容调整章节：

- 简单的设计可以省略某些章节
- 复杂的设计可以增加专门的章节
- **示例代码原则**：精而不多，每个示例应有明确目的，避免重复展示相似代码

## 示例代码管理原则

### 核心理念：少而精

- **每个示例都应有明确目的**：说明特定用法或概念
- **避免重复展示**：相似的代码模式只需展示一次
- **控制示例长度**：单个示例不超过 20-30 行
- **使用注释替代冗长代码**：用 `// ... 其他类似操作` 替代重复部分

### 建议的示例代码策略

1. **核心示例保留**：最基本、最常用的用法
2. **边界案例精简**：只展示关键差异点
3. **完整示例外置**：将完整示例代码链接到独立文件或附录
4. **使用表格总结**：多个相似操作可用表格替代多个代码块

## 关键概念章节的作用

### 1. 明确设计贡献

- 清晰标识本文档引入的新概念
- 区分自创概念与引用概念
- 帮助读者快速理解设计的核心创新

### 2. 支持智能匹配索引

关键概念将用于文档校验命令的智能匹配功能：

**当前智能匹配规则**（基于草稿内容关键词）：

- 如涉及 ID 设计 → 对比 docs/design/id-design.md
- 如涉及类型定义 → 对比 docs/standard/coding-standards.md
- 如涉及项目结构 → 对比 docs/standard/project-structure.md
- 如涉及数据持久化 → 对比 docs/design/indexeddb-persistence-middleware-design.md
- 如涉及状态管理 → 对比 docs/design/mindmap-editor-store-design.md

**未来增强**（利用关键概念）：

- 从所有设计文档的"关键概念"章节提取新概念
- 构建 `概念 → 文档` 的映射索引
- 草稿校验时，基于草稿中的概念自动匹配相关文档
- 示例：草稿中出现 "order_index" → 自动匹配到相应设计文档

### 3. 跨文档引用

- 其他文档可以通过概念快速定位到原始定义
- 避免概念重复定义，保持一致性
- 便于追踪概念的演进和依赖关系

## 建议

- 每个设计文档都应包含"关键概念"章节
- 仅包含本文档新设计的概念
- 外部概念应通过引用说明来源
